<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml"
	xmlns:f="http://java.sun.com/jsf/core"
	xmlns:h="http://java.sun.com/jsf/html"
	xmlns:ui="http://java.sun.com/jsf/facelets"
	xmlns:c="http://java.sun.com/jsp/jstl/core">
<head>
<meta charset="UTF-8"></meta>
<meta name="viewport" content="width=device-width, initial-scale=1.0"></meta>
<title>Crear usuario</title>
<link rel="stylesheet"
	href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/css/bootstrap.min.css"
	integrity="sha384-BVYiiSIFeK1dGmJRAkycuHAHRg32OmUcww7on3RYdg4Va+PmSTsz/K68vbdEjh4u"
	crossorigin="anonymous"></link>
<link rel="stylesheet" type="text/css" href="css/estilos.css"></link>
<STYLE type="text/css">
body {
	background-color: yellow;
}
</STYLE>

<script src="js/jquery-3.2.1.js"></script>
<script
	src="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/js/bootstrap.min.js"
	integrity="sha384-Tc5IQib027qvyjSMfHjOMaLkfuWVxZxUPnCJA7l2mCWNIpG9mGCD8wGNIcPD7Txa"
	crossorigin="anonymous"></script>



</head>
<body>

	<ui:include src="/WEB-INF/barraSuperior.xhtml"></ui:include>
	<br />
	<br />
	<br />
	<br />
	<div class="container-fluid">
		<div class="row">
			<div class="col-md-offset-3 col-md-6">
				<div class="text-center"></div>
				<div class="bg-info" style="padding: 20px;">
					<h1>Datos del Nuevo Usuario</h1>
					<h:form>
						<DIV class="col-md-6">
							<div class="form-group">
								<LABEL>Nombre</LABEL>
								<h:inputText id="nombre" value="#{crearUsuarioCtrl.nombre}"
									styleClass="form-control">
									<f:validateLength minimum="1" maximum="15"> 15 caracteres maximo</f:validateLength>
								</h:inputText>
							</div>
						</DIV>
						<DIV class="col-md-6">
							<div class="form-group">
								<LABEL>Apellido </LABEL>
								<h:inputText id="apellido" value="#{crearUsuarioCtrl.apellido}"
									styleClass="form-control">
									<f:validateLength minimum="1" maximum="15"> 15 caracteres maximo</f:validateLength>
								</h:inputText>
							</div>
						</DIV>
						<DIV class="col-md-6">
							<div class="form-group">
								<LABEL>Rut</LABEL>
								<h:inputText id="rut" value="#{crearUsuarioCtrl.rut}"
									styleClass="form-control">
									<f:validateLength minimum="7" maximum="10">Minimo 7 y Maximo 10 caracteres</f:validateLength>
								</h:inputText>
							</div>
						</DIV>

						<DIV class="col-md-6">
							<div class="form-group">
								<LABEL>E-mail</LABEL>
								<h:inputText value="#{crearUsuarioCtrl.email}"
									styleClass="form-control">
									<f:validateLength minimum="1" maximum="100">complete el campo se√±ado</f:validateLength>
								</h:inputText>
							</div>
						</DIV>
						<DIV class="col-md-6">
							<div class="form-group">
								<LABEL>Confirmar E-mail</LABEL>
								<h:inputText value="#" styleClass="form-control">
									<f:validateLength minimum="1" maximum="100"> el E-mail no conside</f:validateLength>
								</h:inputText>
							</div>
						</DIV>
						<DIV class="col-md-6">
							<div class="form-group">
								<LABEL>Password</LABEL>
								<h:inputSecret value="#{crearUsuarioCtrl.password}"
									styleClass="form-control">
									<f:validateLength minimum="6" maximum="30">Minimo 6 Maximo 30 caracteres</f:validateLength>
								</h:inputSecret>
							</div>
						</DIV>
						<DIV class="col-md-6">
							<div class="form-group">
								<LABEL>Confirmar Password</LABEL>
								<h:inputSecret value="#" styleClass="form-control">
									<f:validateLength minimum="6" maximum="30">Minimo 6 Maximo 30 caracteres</f:validateLength>
								</h:inputSecret>
							</div>
						</DIV>
						<DIV class="col-md-12">

							<div class="form-group">
								<LABEL>Codigo Sucursal</LABEL>

								<h:selectOneMenu styleClass="form-control"
									value="#{crearUsuarioCtrl.idSucursal}">
									<f:selectItems value="#{crearUsuarioCtrl.sucursales}"
										var="sucursal" itemValue="#{sucursal.idSucursal}"
										itemLabel="#{sucursal.nombre}">
									</f:selectItems>
								</h:selectOneMenu>
							</div>


						</DIV>
						<DIV class="col-md-12">

							<div class="form-group">
								<LABEL>Tipo Perfil</LABEL>

								<h:selectOneMenu styleClass="form-control"
									value="#{crearUsuarioCtrl.perfil_nombre}">
									<c:if test="#{loginCtrl.tienePermiso('crear vendedor') }">
										<f:selectItem itemValue="Vendedor" itemLabel="Vendedor" />
									</c:if>
									<c:if test="#{loginCtrl.tienePermiso('crear jefe sucursal') }">
										<f:selectItem itemValue="Jefe Sucursal"
											itemLabel="Jefe Sucursal" />
									</c:if>
									<c:if test="#{loginCtrl.tienePermiso('crear administrador') }">
										<f:selectItem itemValue="Administrador"
											itemLabel="Administrador" />
									</c:if>
									<c:if test="#{loginCtrl.tienePermiso('crear root') }">
										<f:selectItem itemValue="Root" itemLabel="Root" />
									</c:if>
								</h:selectOneMenu>

							</div>


						</DIV>
						<div class="row">
							<DIV class="col-md-6">
								<div class="form-group">
									<h:commandButton value="Crear"
										action="#{crearUsuarioCtrl.guardarUsuario}"
										styleClass="btn btn-success btn-block"></h:commandButton>
								</div>
							</DIV>
							<DIV class="col-md-6">
								<div class="form-group text-right">
									<h:commandButton value="Cancelar"
										action="#{crearUsuarioCtrl.cancelar}"
										styleClass="btn btn-default btn-block"></h:commandButton>
								</div>

							</DIV>

						</div>




					</h:form>

					<h:outputText value="#{crearUsuarioCtrl.mensaje}"></h:outputText>
				</div>
			</div>
		</div>
	</div>

</body>
</html>